<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<!-- Bootstrap CSS -->
	<link th:rel="stylesheet" th:href="@{/webjars/bootstrap/5.2.3/css/bootstrap.min.css}"/>
	<!-- Fontawesome -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" 
	integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" 
	crossorigin="anonymous" referrerpolicy="no-referrer" />
	<title>Insert title here</title>
</head>
<body>
	<main>
		<div class="container">
			<div class="row">
				<div class="col-12">
					<div class="d-flex justify-content-between align-items-center">
						<div>
							<h1>Ecco le tue Categorie:</h1>
							<div 
								th:if="${error != null}"
								class="alert alert-success"
								>
									[[ ${error} ]]
								</div>
							</div>
						<div>
						    <a th:href="@{/category/create}" type="submit" class="btn btn-primary">Aggiungi una categoria</a>
						</div>
					</div>
				</div>
				<div class="col-12">
					<div th:if="${#lists.isEmpty(categories)}">
						<h1>Lista vuota</h1>
					</div>
					<div th:unless="${#lists.isEmpty(categories)}">
						<table class="table">
							<thead>
							  	<tr>
							    	<th scope="col">Nome</th>
							    	<th scope="col">Azioni</th>
							  	</tr>
							</thead>
							<tbody>
							  	<tr 
							  	th:each="category : ${categories}"
							  	th:object="${category}"
							  	>
							    	<td scope="row">[[ *{name} ]]</td>
							    	<td>
							    		<div class="btn-group" role="group" aria-label="Basic example">
										  	<a class="btn btn-warning" th:href="@{/category/edit/{id} (id=*{id})}"><i class="fa-solid fa-pen-to-square"></i></a>
										  	<a class="btn btn-danger" th:href="@{/category/delete/{id} (id=*{id})}"><i class="fa-solid fa-trash-can"></i></a>
										</div>
							    	</td>
							  	</tr>
							</tbody>
						</table>
					</div>
				</div>
				<div class="col-12">
					<a th:href="@{/picture/index}" type="submit" class="btn btn-primary">Back</a>
				</div>
			</div>
		</div>
	</main>
	
	<script th:src="@{/webjars/bootstrap/5.2.3/js/bootstrap.bundle.min.js}"></script>
</body>
</html>